# ãƒ¡ãƒ³ãƒãƒ¼åŠ å…¥ãƒ»è„±é€€é€šçŸ¥æ©Ÿèƒ½ - ä»•æ§˜æ›¸

> Member Join/Leave Notification - ãƒ¡ãƒ³ãƒãƒ¼å‚åŠ ãƒ»é€€å‡ºæ™‚ã®é€šçŸ¥æ©Ÿèƒ½

æœ€çµ‚æ›´æ–°: 2026å¹´2æœˆ11æ—¥

---

## ğŸ“‹ æ¦‚è¦

ã‚µãƒ¼ãƒãƒ¼ã«ãƒ¡ãƒ³ãƒãƒ¼ãŒå‚åŠ ãƒ»é€€å‡ºã—ãŸéš›ã«ã€æŒ‡å®šã•ã‚ŒãŸãƒãƒ£ãƒ³ãƒãƒ«ã«é€šçŸ¥ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¨ãƒ¡ãƒ³ãƒãƒ¼æƒ…å ±ãƒ‘ãƒãƒ«ã‚’è¡¨ç¤ºã™ã‚‹æ©Ÿèƒ½ã§ã™ã€‚

---

## ğŸ¯ ä¸»è¦æ©Ÿèƒ½

### 1. ãƒ¡ãƒ³ãƒãƒ¼å‚åŠ é€šçŸ¥

**ãƒˆãƒªã‚¬ãƒ¼**: `guildMemberAdd` ã‚¤ãƒ™ãƒ³ãƒˆ

**é€šçŸ¥å†…å®¹:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ‘‹ æ–°ã—ã„ãƒ¡ãƒ³ãƒãƒ¼ãŒå‚åŠ ã—ã¾ã—ãŸï¼   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ãƒ¦ãƒ¼ã‚¶ãƒ¼: @Username#1234           â”‚
â”‚ ID: 123456789012345678             â”‚
â”‚ ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆ: 2024/01/15         â”‚
â”‚ ã‚µãƒ¼ãƒãƒ¼å‚åŠ : 2026/02/11 14:30     â”‚
â”‚ ç¾åœ¨ã®ãƒ¡ãƒ³ãƒãƒ¼æ•°: 1,234å          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Embedå½¢å¼:**

- **è‰²**: ã‚°ãƒªãƒ¼ãƒ³ï¼ˆ`#2ecc71`ï¼‰
- **ã‚µãƒ ãƒã‚¤ãƒ«**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ãƒã‚¿ãƒ¼
- **ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰**:
  - ãƒ¦ãƒ¼ã‚¶ãƒ¼å
  - ãƒ¦ãƒ¼ã‚¶ãƒ¼ID
  - ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆæ—¥
  - ã‚µãƒ¼ãƒãƒ¼å‚åŠ æ—¥æ™‚
  - ãƒ¡ãƒ³ãƒãƒ¼æ•°
- **ãƒ•ãƒƒã‚¿ãƒ¼**: ã€Œã‚ˆã†ã“ãï¼ã€ãªã©ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸

### 2. ãƒ¡ãƒ³ãƒãƒ¼é€€å‡ºé€šçŸ¥

**ãƒˆãƒªã‚¬ãƒ¼**: `guildMemberRemove` ã‚¤ãƒ™ãƒ³ãƒˆ

**é€šçŸ¥å†…å®¹:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ‘‹ ãƒ¡ãƒ³ãƒãƒ¼ãŒé€€å‡ºã—ã¾ã—ãŸ           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ãƒ¦ãƒ¼ã‚¶ãƒ¼: @Username#1234           â”‚
â”‚ ID: 123456789012345678             â”‚
â”‚ ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆ: 2024/01/15         â”‚
â”‚ ã‚µãƒ¼ãƒãƒ¼å‚åŠ : 2025/12/01           â”‚
â”‚ ã‚µãƒ¼ãƒãƒ¼é€€å‡º: 2026/02/11 15:45     â”‚
â”‚ æ»åœ¨æœŸé–“: 72æ—¥                     â”‚
â”‚ ç¾åœ¨ã®ãƒ¡ãƒ³ãƒãƒ¼æ•°: 1,233å          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Embedå½¢å¼:**

- **è‰²**: ãƒ¬ãƒƒãƒ‰ï¼ˆ`#e74c3c`ï¼‰
- **ã‚µãƒ ãƒã‚¤ãƒ«**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ãƒã‚¿ãƒ¼
- **ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰**:
  - ãƒ¦ãƒ¼ã‚¶ãƒ¼å
  - ãƒ¦ãƒ¼ã‚¶ãƒ¼ID
  - ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆæ—¥
  - ã‚µãƒ¼ãƒãƒ¼å‚åŠ æ—¥
  - ã‚µãƒ¼ãƒãƒ¼é€€å‡ºæ—¥æ™‚
  - æ»åœ¨æœŸé–“
  - ãƒ¡ãƒ³ãƒãƒ¼æ•°
- **ãƒ•ãƒƒã‚¿ãƒ¼**: ã€Œã¾ãŸã­ï¼ã€ãªã©ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸

---

## âš™ï¸ è¨­å®šã‚³ãƒãƒ³ãƒ‰

### `/join-leave-log-config`

#### ã‚µãƒ–ã‚³ãƒãƒ³ãƒ‰

**1. `set-channel` - é€šçŸ¥ãƒãƒ£ãƒ³ãƒãƒ«è¨­å®š**

```
/join-leave-log-config set-channel channel:#welcome-log
```

- å‚åŠ ãƒ»é€€å‡ºé€šçŸ¥ã‚’é€ä¿¡ã™ã‚‹ãƒãƒ£ãƒ³ãƒãƒ«ã‚’æŒ‡å®š
- Botæ¨©é™ãƒã‚§ãƒƒã‚¯: `ViewChannel`, `SendMessages`, `EmbedLinks`

**2. `enable` - æ©Ÿèƒ½æœ‰åŠ¹åŒ–**

```
/join-leave-log-config enable
```

- é€šçŸ¥æ©Ÿèƒ½ã‚’æœ‰åŠ¹åŒ–
- ãƒãƒ£ãƒ³ãƒãƒ«ãŒæœªè¨­å®šã®å ´åˆã¯ã‚¨ãƒ©ãƒ¼

**3. `disable` - æ©Ÿèƒ½ç„¡åŠ¹åŒ–**

```
/join-leave-log-config disable
```

- é€šçŸ¥æ©Ÿèƒ½ã‚’ç„¡åŠ¹åŒ–

**4. `set-join-message` - ã‚«ã‚¹ã‚¿ãƒ å‚åŠ ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¨­å®š**

```
/join-leave-log-config set-join-message message:ã‚ˆã†ã“ã {user}ã•ã‚“ï¼
```

- `{user}`: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ¡ãƒ³ã‚·ãƒ§ãƒ³
- `{username}`: ãƒ¦ãƒ¼ã‚¶ãƒ¼å
- `{count}`: ãƒ¡ãƒ³ãƒãƒ¼æ•°

**5. `set-leave-message` - ã‚«ã‚¹ã‚¿ãƒ é€€å‡ºãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¨­å®š**

```
/join-leave-log-config set-leave-message message:{user}ã•ã‚“ãŒé€€å‡ºã—ã¾ã—ãŸ
```

**6. `show` - ç¾åœ¨ã®è¨­å®šè¡¨ç¤º**

```
/join-leave-log-config show
```

**è¡¨ç¤ºå†…å®¹:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ãƒ¡ãƒ³ãƒãƒ¼åŠ å…¥ãƒ»è„±é€€é€šçŸ¥      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ çŠ¶æ…‹: æœ‰åŠ¹                  â”‚
â”‚ é€šçŸ¥ãƒãƒ£ãƒ³ãƒãƒ«: #welcome-logâ”‚
â”‚ ã‚«ã‚¹ã‚¿ãƒ ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸: è¨­å®šæ¸ˆ  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ’¾ ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒ

### GuildConfig

```prisma
model GuildConfig {
  // ...
  joinLeaveLogConfig String? // JSON: JoinLeaveLogConfig
}
```

### JoinLeaveLogConfig å‹å®šç¾©

```typescript
interface JoinLeaveLogConfig {
  enabled: boolean; // æ©Ÿèƒ½æœ‰åŠ¹/ç„¡åŠ¹
  channelId?: string; // é€šçŸ¥ãƒãƒ£ãƒ³ãƒãƒ«ID
  joinMessage?: string; // ã‚«ã‚¹ã‚¿ãƒ å‚åŠ ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
  leaveMessage?: string; // ã‚«ã‚¹ã‚¿ãƒ é€€å‡ºãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
  showJoinDate: boolean; // å‚åŠ æ—¥è¡¨ç¤ºï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: trueï¼‰
  showAccountAge: boolean; // ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå¹´é½¢è¡¨ç¤ºï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: trueï¼‰
}
```

---

## ğŸ”„ å‡¦ç†ãƒ•ãƒ­ãƒ¼

### å‚åŠ é€šçŸ¥ãƒ•ãƒ­ãƒ¼

```
1. guildMemberAddã‚¤ãƒ™ãƒ³ãƒˆç™ºç«
   â†“
2. æ©Ÿèƒ½ãŒæœ‰åŠ¹ã‹ãƒã‚§ãƒƒã‚¯
   â†“
3. é€šçŸ¥ãƒãƒ£ãƒ³ãƒãƒ«ã‚’å–å¾—
   â†“
4. ãƒ¡ãƒ³ãƒãƒ¼æƒ…å ±ã‚’åé›†
   - ãƒ¦ãƒ¼ã‚¶ãƒ¼åãƒ»ID
   - ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆæ—¥
   - ç¾åœ¨ã®ãƒ¡ãƒ³ãƒãƒ¼æ•°
   â†“
5. Embedã‚’ç”Ÿæˆ
   â†“
6. é€šçŸ¥ãƒãƒ£ãƒ³ãƒãƒ«ã«é€ä¿¡
   â†“
7. ãƒ­ã‚°ã«è¨˜éŒ²
```

### é€€å‡ºé€šçŸ¥ãƒ•ãƒ­ãƒ¼

```
1. guildMemberRemoveã‚¤ãƒ™ãƒ³ãƒˆç™ºç«
   â†“
2. æ©Ÿèƒ½ãŒæœ‰åŠ¹ã‹ãƒã‚§ãƒƒã‚¯
   â†“
3. é€šçŸ¥ãƒãƒ£ãƒ³ãƒãƒ«ã‚’å–å¾—
   â†“
4. ãƒ¡ãƒ³ãƒãƒ¼æƒ…å ±ã‚’åé›†
   - ãƒ¦ãƒ¼ã‚¶ãƒ¼åãƒ»ID
   - ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆæ—¥
   - ã‚µãƒ¼ãƒãƒ¼å‚åŠ æ—¥ï¼ˆå–å¾—å¯èƒ½ãªå ´åˆï¼‰
   - æ»åœ¨æœŸé–“è¨ˆç®—
   - ç¾åœ¨ã®ãƒ¡ãƒ³ãƒãƒ¼æ•°
   â†“
5. Embedã‚’ç”Ÿæˆ
   â†“
6. é€šçŸ¥ãƒãƒ£ãƒ³ãƒãƒ«ã«é€ä¿¡
   â†“
7. ãƒ­ã‚°ã«è¨˜éŒ²
```

---

## ğŸ¨ Embedç”Ÿæˆä¾‹

### TypeScriptå®Ÿè£…ä¾‹

```typescript
function createJoinEmbed(member: GuildMember): EmbedBuilder {
  const accountAge = Math.floor(
    (Date.now() - member.user.createdTimestamp) / (1000 * 60 * 60 * 24),
  );

  return new EmbedBuilder()
    .setColor(0x2ecc71)
    .setTitle("ğŸ‘‹ æ–°ã—ã„ãƒ¡ãƒ³ãƒãƒ¼ãŒå‚åŠ ã—ã¾ã—ãŸï¼")
    .setThumbnail(member.user.displayAvatarURL({ size: 256 }))
    .addFields(
      { name: "ãƒ¦ãƒ¼ã‚¶ãƒ¼", value: member.user.tag, inline: true },
      { name: "ID", value: member.id, inline: true },
      {
        name: "ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆ",
        value: `<t:${Math.floor(member.user.createdTimestamp / 1000)}:D>`,
        inline: true,
      },
      {
        name: "ã‚µãƒ¼ãƒãƒ¼å‚åŠ ",
        value: `<t:${Math.floor(member.joinedTimestamp! / 1000)}:F>`,
        inline: true,
      },
      { name: "ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå¹´é½¢", value: `${accountAge}æ—¥`, inline: true },
      {
        name: "ãƒ¡ãƒ³ãƒãƒ¼æ•°",
        value: `${member.guild.memberCount}å`,
        inline: true,
      },
    )
    .setFooter({ text: `ã‚ˆã†ã“ãï¼ | Member #${member.guild.memberCount}` })
    .setTimestamp();
}

function createLeaveEmbed(member: GuildMember): EmbedBuilder {
  const stayDuration = member.joinedTimestamp
    ? Math.floor((Date.now() - member.joinedTimestamp) / (1000 * 60 * 60 * 24))
    : null;

  return new EmbedBuilder()
    .setColor(0xe74c3c)
    .setTitle("ğŸ‘‹ ãƒ¡ãƒ³ãƒãƒ¼ãŒé€€å‡ºã—ã¾ã—ãŸ")
    .setThumbnail(member.user.displayAvatarURL({ size: 256 }))
    .addFields(
      { name: "ãƒ¦ãƒ¼ã‚¶ãƒ¼", value: member.user.tag, inline: true },
      { name: "ID", value: member.id, inline: true },
      {
        name: "ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆ",
        value: `<t:${Math.floor(member.user.createdTimestamp / 1000)}:D>`,
        inline: true,
      },
      stayDuration !== null
        ? { name: "æ»åœ¨æœŸé–“", value: `${stayDuration}æ—¥`, inline: true }
        : { name: "æ»åœ¨æœŸé–“", value: "ä¸æ˜", inline: true },
      {
        name: "ãƒ¡ãƒ³ãƒãƒ¼æ•°",
        value: `${member.guild.memberCount}å`,
        inline: true,
      },
    )
    .setFooter({ text: "ã¾ãŸã­ï¼" })
    .setTimestamp();
}
```

---

## ğŸ›¡ï¸ ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

### æƒ³å®šã•ã‚Œã‚‹ã‚¨ãƒ©ãƒ¼

1. **ãƒãƒ£ãƒ³ãƒãƒ«ãŒå‰Šé™¤ã•ã‚ŒãŸ**
   - é€šçŸ¥ã‚’ã‚¹ã‚­ãƒƒãƒ—
   - ãƒ­ã‚°ã«è¨˜éŒ²
   - è¨­å®šã‚’ç„¡åŠ¹åŒ–ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

2. **Botæ¨©é™ä¸è¶³**
   - ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡å¤±æ•—
   - ãƒ­ã‚°ã«è¨˜éŒ²
   - ç®¡ç†è€…ã«é€šçŸ¥ï¼ˆå¯èƒ½ãªã‚‰ï¼‰

3. **ãƒ¡ãƒ³ãƒãƒ¼æƒ…å ±å–å¾—å¤±æ•—**
   - åŸºæœ¬æƒ…å ±ã®ã¿ã§é€šçŸ¥
   - ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°è¨˜éŒ²

4. **ãƒ¬ãƒ¼ãƒˆåˆ¶é™**
   - å¤§é‡ã®å‚åŠ /é€€å‡ºãŒç™ºç”Ÿã—ãŸå ´åˆ
   - ã‚­ãƒ¥ãƒ¼å‡¦ç†ã§é †æ¬¡é€ä¿¡

---

## ğŸ§ª ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹

### ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ

- [ ] Embedç”Ÿæˆ
- [ ] ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
- [ ] æ»åœ¨æœŸé–“è¨ˆç®—
- [ ] è¨­å®šã‚³ãƒãƒ³ãƒ‰å„ç¨®

### ã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆ

- [ ] guildMemberAddã‚¤ãƒ™ãƒ³ãƒˆå‡¦ç†
- [ ] guildMemberRemoveã‚¤ãƒ™ãƒ³ãƒˆå‡¦ç†
- [ ] ãƒãƒ£ãƒ³ãƒãƒ«æ¨©é™ãƒã‚§ãƒƒã‚¯
- [ ] ã‚«ã‚¹ã‚¿ãƒ ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å±•é–‹

---

## ğŸ“š å‚è€ƒãƒªã‚½ãƒ¼ã‚¹

- [Discord.js - GuildMemberAdd](https://discord.js.org/#/docs/discord.js/main/class/Client?scrollTo=e-guildMemberAdd)
- [Discord.js - GuildMemberRemove](https://discord.js.org/#/docs/discord.js/main/class/Client?scrollTo=e-guildMemberRemove)
- [Discord.js - EmbedBuilder](https://discord.js.org/#/docs/discord.js/main/class/EmbedBuilder)

---

**æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—**: ã‚«ã‚¹ã‚¿ãƒ ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆæ©Ÿèƒ½ã®å®Ÿè£…
